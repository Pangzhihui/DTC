/**
  * dtc V1.0.9
  * (c) 2018-2019
  * Copyright all contributors
  * @license Released under MIT license.
  */
import{EventDispatcher as e,Vector3 as t,MOUSE as n,Quaternion as r,Spherical as o,Vector2 as i,Raycaster as a,Color as s,Texture as c,SpriteMaterial as u,Sprite as l,MeshBasicMaterial as h,DoubleSide as f,PlaneGeometry as d,Mesh as p,Geometry as m,LineBasicMaterial as v,Group as y,Line as g,Shape as b,ExtrudeGeometry as w,MeshPhongMaterial as _,MeshLambertMaterial as x,Object3D as O,BoxGeometry as j,AdditiveBlending as E,ShaderMaterial as S,FrontSide as k,QuadraticBezierCurve3 as M,BufferGeometry as A,BufferAttribute as C,ShaderLib as P,Points as D,Scene as T,PerspectiveCamera as $,WebGLRenderer as R,Fog as L,AmbientLight as I,DirectionalLight as z,SpotLight as H,DirectionalLightHelper as F,SpotLightHelper as N,GridHelper as B,AxisHelper as W,CatmullRomCurve3 as G,TubeGeometry as U,Camera as Q}from"three";function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t,n){return(ee=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&J(o,n.prototype),o}).apply(null,arguments)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?te(e):t}function re(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var oe="[object Symbol]",ie=Object.prototype.toString;function ae(e,t){return e>t}function se(e){return"symbol"==Y(e)||function(e){return!!e&&"object"==Y(e)}(e)&&ie.call(e)==oe}function ce(e){return e}var ue="[object Symbol]",le=Object.prototype.toString;function he(e,t){return e<t}function fe(e){return"symbol"==Y(e)||function(e){return!!e&&"object"==Y(e)}(e)&&le.call(e)==ue}function de(e){return e}var pe=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,me=/\[.*?\]|y{2,4}|M{1,4}|d{1,2}|w{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ve={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"}},ye=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},ge={padStart:ye,padZoneStr:function(e){var t=Math.abs(e),n=Math.floor(t/60),r=t%60;return(e<=0?"+":"-")+ye(n,2,"0")+":"+ye(r,2,"0")},monthDiff:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months"),o=t-r<0,i=e.clone().add(n+(o?-1:1),"months");return Number(-(n+(t-r)/(o?r-i:i-r)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(e){return{M:"month",y:"year",w:"week",d:"day",h:"hour",m:"minute",s:"second",ms:"millisecond"}[e]||String(e||"").toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},be="zh-cn",we={};we[be]=ve;var _e=function(e){return e instanceof Ee},xe=function(e,t,n){var r;if(!e)return null;if("string"==typeof e)we[e]&&(r=e),t&&(we[e]=t,r=e);else{var o=e.name;we[o]=e,r=o}return n||(be=r),r},Oe=function(e,t){if(_e(e))return e.clone();var n=t||{};return n.date=e,new Ee(n)},je=ge;je.parseLocale=xe,je.isDayjs=_e,je.wrapper=function(e,t){return Oe(e,{locale:t.$L})};var Ee=function(){function e(e){this.parse(e)}var t=e.prototype;return t.parse=function(e){var t,n;this.$d=null===(t=e.date)?new Date(NaN):je.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&/.*[^Z]$/i.test(t)&&(n=t.match(pe))?new Date(n[1],n[2]-1,n[3]||1,n[5]||0,n[6]||0,n[7]||0,n[8]||0):new Date(t),this.init(e)},t.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||xe(e.locale,null,!0)||be},t.$locale=function(){return we[this.$L]},t.format=function(e){var t=this,n=e||"yyyy-MM-ddTHH:mm:ssZ",r=je.padZoneStr(this.$d.getTimezoneOffset()),o=this.$locale(),i=o.weekdays,a=o.months,s=function(e,t,n,r){return e&&e[t]||n[t].substr(0,r)};return n.replace(me,function(e){if(e.indexOf("[")>-1)return e.replace(/\[|\]/g,"");switch(e){case"yy":return String(t.$y).slice(-2);case"yyyy":return String(t.$y);case"M":return String(t.$M+1);case"MM":return je.padStart(t.$M+1,2,"0");case"MMM":return s(o.monthsShort,t.$M,a,3);case"MMMM":return a[t.$M];case"d":return String(t.$D);case"dd":return je.padStart(t.$D,2,"0");case"w":return String(t.$W);case"ww":return s(o.weekdaysMin,t.$W,i,2);case"www":return s(o.weekdaysShort,t.$W,i,3);case"wwww":return i[t.$W];case"H":return String(t.$H);case"HH":return je.padStart(t.$H,2,"0");case"h":case"hh":return 0===t.$H?12:je.padStart(t.$H<13?t.$H:t.$H-12,"hh"===e?2:1,"0");case"a":return t.$H<12?"am":"pm";case"A":return t.$H<12?"AM":"PM";case"m":return String(t.$m);case"mm":return je.padStart(t.$m,2,"0");case"s":return String(t.$s);case"ss":return je.padStart(t.$s,2,"0");case"SSS":return je.padStart(t.$ms,3,"0");case"Z":return r;default:return r.replace(":","")}})},e}();function Se(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function ke(e,t){return e(t={exports:{}},t.exports),t.exports}var Me=ke(function(e,t){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c=Se;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error('Cannot find module "'+a+'"');throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i=Se,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],2:[function(e,t,n){var r=e("./stringify"),o=e("./parse"),i=e("./formats");t.exports={formats:i,parse:o,stringify:r}},{"./formats":1,"./parse":3,"./stringify":4}],3:[function(e,t,n){var r=e("./utils"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,c=[];if(s){if(!n.plainObjects&&o.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;null!==(a=i.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[s]=r:i={0:r}}r=i}return r}(c,t,n)}};t.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"==typeof n.depth?n.depth:i.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:i.decoder,n.allowDots=void 0===n.allowDots?i.allowDots:!!n.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===n.charset&&(n.charset=i.charset),""===e||null==e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,s={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,l=c.split(t.delimiter,u),h=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?f="utf-8":"utf8=%26%2310003%3B"===l[n]&&(f="iso-8859-1"),h=n,n=l.length);for(n=0;n<l.length;++n)if(n!==h){var d,p,m=l[n],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(d=t.decoder(m,i.decoder,f),p=t.strictNullHandling?null:""):(d=t.decoder(m.slice(0,y),i.decoder,f),p=t.decoder(m.slice(y+1),i.decoder,f)),p&&t.interpretNumericEntities&&"iso-8859-1"===f&&(p=a(p)),o.call(s,d)?s[d]=r.combine(s[d],p):s[d]=p}return s}(e,n):e,u=n.plainObjects?Object.create(null):{},l=Object.keys(c),h=0;h<l.length;++h){var f=l[h],d=s(f,c[f],n);u=r.merge(u,d,n)}return r.compact(u)}},{"./utils":5}],4:[function(e,t,n){var r=e("./utils"),o=e("./formats"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,s=Array.prototype.push,c=function(e,t){s.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,l={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(t,n,o,i,a,s,u,h,f,d,p,m,v){var y=t;if("function"==typeof u?y=u(n,y):y instanceof Date&&(y=d(y)),null===y){if(i)return s&&!m?s(n,l.encoder,v):n;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||r.isBuffer(y)){if(s){var g=m?n:s(n,l.encoder,v);return[p(g)+"="+p(s(y,l.encoder,v))]}return[p(n)+"="+p(String(y))]}var b,w=[];if(void 0===y)return w;if(Array.isArray(u))b=u;else{var _=Object.keys(y);b=h?_.sort(h):_}for(var x=0;x<b.length;++x){var O=b[x];a&&null===y[O]||(Array.isArray(y)?c(w,e(y[O],o(n,O),o,i,a,s,u,h,f,d,p,m,v)):c(w,e(y[O],n+(f?"."+O:"["+O+"]"),o,i,a,s,u,h,f,d,p,m,v)))}return w};t.exports=function(e,t){var n=e,a=t?r.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===a.delimiter?l.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:l.skipNulls,d="boolean"==typeof a.encode?a.encode:l.encode,p="function"==typeof a.encoder?a.encoder:l.encoder,m="function"==typeof a.sort?a.sort:null,v=void 0===a.allowDots?l.allowDots:!!a.allowDots,y="function"==typeof a.serializeDate?a.serializeDate:l.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:l.encodeValuesOnly,b=a.charset||l.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var w,_,x=o.formatters[a.format];"function"==typeof a.filter?(_=a.filter,n=_("",n)):Array.isArray(a.filter)&&(_=a.filter,w=_);var O,j=[];if("object"!==Y(n)||null===n)return"";O=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var E=i[O];w||(w=Object.keys(n)),m&&w.sort(m);for(var S=0;S<w.length;++S){var k=w[S];f&&null===n[k]||c(j,h(n[k],k,E,u,f,d?p:null,_,m,v,y,x,g,b))}var M=j.join(s),A=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(A+="iso-8859-1"===b?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),M.length>0?A+M:""}},{"./formats":1,"./utils":5}],5:[function(e,t,n){var r=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};t.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"===Y(u)&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Array.isArray(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r="string"==typeof e?e:String(e);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=r.charAt(a):s<128?i+=o[s]:s<2048?i+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?i+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),i+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return i},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,o){if(!n)return t;if("object"!==Y(n)){if(Array.isArray(t))t.push(n);else{if("object"!==Y(t))return[t,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!==Y(t))return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=i(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"===Y(t[i])?t[i]=e(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return r.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}},{}]},{},[2])(2)});var Ae=200,Ce="__lodash_hash_undefined__",Pe=1,De=2,Te=9007199254740991,$e="[object Arguments]",Re="[object Array]",Le="[object Boolean]",Ie="[object Date]",ze="[object Error]",He="[object Function]",Fe="[object GeneratorFunction]",Ne="[object Map]",Be="[object Number]",We="[object Object]",Ge="[object RegExp]",Ue="[object Set]",Qe="[object String]",Ye="[object Symbol]",Ve="[object ArrayBuffer]",Ze="[object DataView]",Xe=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,Ke={};Ke["[object Float32Array]"]=Ke["[object Float64Array]"]=Ke["[object Int8Array]"]=Ke["[object Int16Array]"]=Ke["[object Int32Array]"]=Ke["[object Uint8Array]"]=Ke["[object Uint8ClampedArray]"]=Ke["[object Uint16Array]"]=Ke["[object Uint32Array]"]=!0,Ke[$e]=Ke[Re]=Ke[Ve]=Ke[Le]=Ke[Ze]=Ke[Ie]=Ke[ze]=Ke[He]=Ke[Ne]=Ke[Be]=Ke[We]=Ke[Ge]=Ke[Ue]=Ke[Qe]=Ke["[object WeakMap]"]=!1;var Je="object"==("undefined"==typeof global?"undefined":Y(global))&&global&&global.Object===Object&&global,et="object"==("undefined"==typeof self?"undefined":Y(self))&&self&&self.Object===Object&&self,tt=Je||et||Function("return this")(),nt="object"==("undefined"==typeof exports?"undefined":Y(exports))&&exports&&!exports.nodeType&&exports,rt=nt&&"object"==("undefined"==typeof module?"undefined":Y(module))&&module&&!module.nodeType&&module,ot=rt&&rt.exports===nt&&Je.process,it=function(){try{return ot&&ot.binding("util")}catch(e){}}(),at=it&&it.isTypedArray;function st(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function ct(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function ut(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function lt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var ht,ft,dt,pt=Array.prototype,mt=Function.prototype,vt=Object.prototype,yt=tt["__core-js_shared__"],gt=(ht=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+ht:"",bt=mt.toString,wt=vt.hasOwnProperty,_t=vt.toString,xt=RegExp("^"+bt.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=tt.Symbol,jt=tt.Uint8Array,Et=vt.propertyIsEnumerable,St=pt.splice,kt=(ft=Object.keys,dt=Object,function(e){return ft(dt(e))}),Mt=Jt(tt,"DataView"),At=Jt(tt,"Map"),Ct=Jt(tt,"Promise"),Pt=Jt(tt,"Set"),Dt=Jt(tt,"WeakMap"),Tt=Jt(Object,"create"),$t=nn(Mt),Rt=nn(At),Lt=nn(Ct),It=nn(Pt),zt=nn(Dt),Ht=Ot?Ot.prototype:void 0,Ft=Ht?Ht.valueOf:void 0;function Nt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(e){var t=-1,n=e?e.length:0;for(this.__data__=new Wt;++t<n;)this.add(e[t])}function Ut(e){this.__data__=new Bt(e)}function Qt(e,t){var n=on(e)||function(e){return function(e){return ln(e)&&an(e)}(e)&&wt.call(e,"callee")&&(!Et.call(e,"callee")||_t.call(e)==$e)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!wt.call(e,i)||o&&("length"==i||tn(i,r))||n.push(i);return n}function Yt(e,t){for(var n=e.length;n--;)if(rn(e[n][0],t))return n;return-1}function Vt(e,t,n,r,o){return e===t||(null==e||null==t||!un(e)&&!ln(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=on(e),s=on(t),c=Re,u=Re;a||(c=(c=en(e))==$e?We:c);s||(u=(u=en(t))==$e?We:u);var l=c==We&&!ct(e),h=u==We&&!ct(t),f=c==u;if(f&&!l)return i||(i=new Ut),a||hn(e)?qt(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case Ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ve:return!(e.byteLength!=t.byteLength||!r(new jt(e),new jt(t)));case Le:case Ie:case Be:return rn(+e,+t);case ze:return e.name==t.name&&e.message==t.message;case Ge:case Qe:return e==t+"";case Ne:var s=ut;case Ue:var c=i&De;if(s||(s=lt),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;i|=Pe,a.set(e,t);var l=qt(s(e),s(t),r,o,i,a);return a.delete(e),l;case Ye:if(Ft)return Ft.call(e)==Ft.call(t)}return!1}(e,t,c,n,r,o,i);if(!(o&De)){var d=l&&wt.call(e,"__wrapped__"),p=h&&wt.call(t,"__wrapped__");if(d||p){var m=d?e.value():e,v=p?t.value():t;return i||(i=new Ut),n(m,v,r,o,i)}}if(!f)return!1;return i||(i=new Ut),function(e,t,n,r,o,i){var a=o&De,s=fn(e),c=s.length,u=fn(t).length;if(c!=u&&!a)return!1;for(var l=c;l--;){var h=s[l];if(!(a?h in t:wt.call(t,h)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);for(var p=a;++l<c;){h=s[l];var m=e[h],v=t[h];if(r)var y=a?r(v,m,h,t,e,i):r(m,v,h,e,t,i);if(!(void 0===y?m===v||n(m,v,r,o,i):y)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,r,o,i)}(e,t,Vt,n,r,o))}function Zt(e){return!(!un(e)||(t=e,gt&&gt in t))&&(sn(e)||ct(e)?xt:Xe).test(nn(e));var t}function Xt(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||vt,t!==r)return kt(e);var t,n,r,o=[];for(var i in Object(e))wt.call(e,i)&&"constructor"!=i&&o.push(i);return o}function qt(e,t,n,r,o,i){var a=o&De,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,h=!0,f=o&Pe?new Gt:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var m=a?r(p,d,l,t,e,i):r(d,p,l,e,t,i);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!st(t,function(e,t){if(!f.has(t)&&(d===e||n(d,e,r,o,i)))return f.add(t)})){h=!1;break}}else if(d!==p&&!n(d,p,r,o,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function Kt(e,t){var n,r,o=e.__data__;return("string"==(r=Y(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Jt(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Zt(n)?n:void 0}Nt.prototype.clear=function(){this.__data__=Tt?Tt(null):{}},Nt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Nt.prototype.get=function(e){var t=this.__data__;if(Tt){var n=t[e];return n===Ce?void 0:n}return wt.call(t,e)?t[e]:void 0},Nt.prototype.has=function(e){var t=this.__data__;return Tt?void 0!==t[e]:wt.call(t,e)},Nt.prototype.set=function(e,t){return this.__data__[e]=Tt&&void 0===t?Ce:t,this},Bt.prototype.clear=function(){this.__data__=[]},Bt.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0||(n==t.length-1?t.pop():St.call(t,n,1),0))},Bt.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?void 0:t[n][1]},Bt.prototype.has=function(e){return Yt(this.__data__,e)>-1},Bt.prototype.set=function(e,t){var n=this.__data__,r=Yt(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Wt.prototype.clear=function(){this.__data__={hash:new Nt,map:new(At||Bt),string:new Nt}},Wt.prototype.delete=function(e){return Kt(this,e).delete(e)},Wt.prototype.get=function(e){return Kt(this,e).get(e)},Wt.prototype.has=function(e){return Kt(this,e).has(e)},Wt.prototype.set=function(e,t){return Kt(this,e).set(e,t),this},Gt.prototype.add=Gt.prototype.push=function(e){return this.__data__.set(e,Ce),this},Gt.prototype.has=function(e){return this.__data__.has(e)},Ut.prototype.clear=function(){this.__data__=new Bt},Ut.prototype.delete=function(e){return this.__data__.delete(e)},Ut.prototype.get=function(e){return this.__data__.get(e)},Ut.prototype.has=function(e){return this.__data__.has(e)},Ut.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bt){var r=n.__data__;if(!At||r.length<Ae-1)return r.push([e,t]),this;n=this.__data__=new Wt(r)}return n.set(e,t),this};var en=function(e){return _t.call(e)};function tn(e,t){return!!(t=null==t?Te:t)&&("number"==typeof e||qe.test(e))&&e>-1&&e%1==0&&e<t}function nn(e){if(null!=e){try{return bt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function rn(e,t){return e===t||e!=e&&t!=t}(Mt&&en(new Mt(new ArrayBuffer(1)))!=Ze||At&&en(new At)!=Ne||Ct&&"[object Promise]"!=en(Ct.resolve())||Pt&&en(new Pt)!=Ue||Dt&&"[object WeakMap]"!=en(new Dt))&&(en=function(e){var t=_t.call(e),n=t==We?e.constructor:void 0,r=n?nn(n):void 0;if(r)switch(r){case $t:return Ze;case Rt:return Ne;case Lt:return"[object Promise]";case It:return Ue;case zt:return"[object WeakMap]"}return t});var on=Array.isArray;function an(e){return null!=e&&cn(e.length)&&!sn(e)}function sn(e){var t=un(e)?_t.call(e):"";return t==He||t==Fe}function cn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function un(e){var t=Y(e);return!!e&&("object"==t||"function"==t)}function ln(e){return!!e&&"object"==Y(e)}var hn=at?function(e){return function(t){return e(t)}}(at):function(e){return ln(e)&&cn(e.length)&&!!Ke[_t.call(e)]};function fn(e){return an(e)?Qt(e):Xt(e)}var dn=200,pn="__lodash_hash_undefined__",mn=9007199254740991,vn="[object Arguments]",yn="[object Boolean]",gn="[object Date]",bn="[object Function]",wn="[object GeneratorFunction]",_n="[object Map]",xn="[object Number]",On="[object Object]",jn="[object RegExp]",En="[object Set]",Sn="[object String]",kn="[object Symbol]",Mn="[object ArrayBuffer]",An="[object DataView]",Cn="[object Float32Array]",Pn="[object Float64Array]",Dn="[object Int8Array]",Tn="[object Int16Array]",$n="[object Int32Array]",Rn="[object Uint8Array]",Ln="[object Uint8ClampedArray]",In="[object Uint16Array]",zn="[object Uint32Array]",Hn=/\w*$/,Fn=/^\[object .+?Constructor\]$/,Nn=/^(?:0|[1-9]\d*)$/,Bn={};Bn[vn]=Bn["[object Array]"]=Bn[Mn]=Bn[An]=Bn[yn]=Bn[gn]=Bn[Cn]=Bn[Pn]=Bn[Dn]=Bn[Tn]=Bn[$n]=Bn[_n]=Bn[xn]=Bn[On]=Bn[jn]=Bn[En]=Bn[Sn]=Bn[kn]=Bn[Rn]=Bn[Ln]=Bn[In]=Bn[zn]=!0,Bn["[object Error]"]=Bn[bn]=Bn["[object WeakMap]"]=!1;var Wn="object"===("undefined"==typeof global?"undefined":Y(global))&&global&&global.Object===Object&&global,Gn="object"===("undefined"==typeof self?"undefined":Y(self))&&self&&self.Object===Object&&self,Un=Wn||Gn||Function("return this")(),Qn="object"===("undefined"==typeof exports?"undefined":Y(exports))&&exports&&!exports.nodeType&&exports,Yn=Qn&&"object"===("undefined"==typeof module?"undefined":Y(module))&&module&&!module.nodeType&&module,Vn=Yn&&Yn.exports===Qn;function Zn(e,t){return e.set(t[0],t[1]),e}function Xn(e,t){return e.add(t),e}function qn(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Kn(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Jn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function er(e,t){return function(n){return e(t(n))}}function tr(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var nr=Array.prototype,rr=Function.prototype,or=Object.prototype,ir=Un["__core-js_shared__"],ar=function(){var e=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),sr=rr.toString,cr=or.hasOwnProperty,ur=or.toString,lr=RegExp("^"+sr.call(cr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hr=Vn?Un.Buffer:void 0,fr=Un.Symbol,dr=Un.Uint8Array,pr=er(Object.getPrototypeOf,Object),mr=Object.create,vr=or.propertyIsEnumerable,yr=nr.splice,gr=Object.getOwnPropertySymbols,br=hr?hr.isBuffer:void 0,wr=er(Object.keys,Object),_r=Qr(Un,"DataView"),xr=Qr(Un,"Map"),Or=Qr(Un,"Promise"),jr=Qr(Un,"Set"),Er=Qr(Un,"WeakMap"),Sr=Qr(Object,"create"),kr=qr(_r),Mr=qr(xr),Ar=qr(Or),Cr=qr(jr),Pr=qr(Er),Dr=fr?fr.prototype:void 0,Tr=Dr?Dr.valueOf:void 0;function $r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ir(e){this.__data__=new Rr(e)}function zr(e,t){var n=Jr(e)||function(e){return function(e){return function(e){return!!e&&"object"===Y(e)}(e)&&eo(e)}(e)&&cr.call(e,"callee")&&(!vr.call(e,"callee")||ur.call(e)==vn)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!cr.call(e,i)||o&&("length"==i||Zr(i,r))||n.push(i);return n}function Hr(e,t,n){var r=e[t];cr.call(e,t)&&Kr(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Fr(e,t){for(var n=e.length;n--;)if(Kr(e[n][0],t))return n;return-1}function Nr(e,t,n,r,o,i,a){var s;if(r&&(s=i?r(e,o,i,a):r(e)),void 0!==s)return s;if(!ro(e))return e;var c=Jr(e);if(c){if(s=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&cr.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,s)}else{var u=Vr(e),l=u==bn||u==wn;if(to(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(u==On||u==vn||l&&!i){if(Kn(e))return i?e:{};if(s=function(e){return"function"!=typeof e.constructor||Xr(e)?{}:(t=pr(e),ro(t)?mr(t):{});var t}(l?{}:e),!t)return function(e,t){return Gr(e,Yr(e),t)}(e,function(e,t){return e&&Gr(t,oo(t),e)}(s,e))}else{if(!Bn[u])return i?e:{};s=function(e,t,n,r){var o=e.constructor;switch(t){case Mn:return Wr(e);case yn:case gn:return new o(+e);case An:return function(e,t){var n=t?Wr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case Cn:case Pn:case Dn:case Tn:case $n:case Rn:case Ln:case In:case zn:return function(e,t){var n=t?Wr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case _n:return function(e,t,n){return qn(t?n(Jn(e),!0):Jn(e),Zn,new e.constructor)}(e,r,n);case xn:case Sn:return new o(e);case jn:return(s=new(a=e).constructor(a.source,Hn.exec(a))).lastIndex=a.lastIndex,s;case En:return function(e,t,n){return qn(t?n(tr(e),!0):tr(e),Xn,new e.constructor)}(e,r,n);case kn:return i=e,Tr?Object(Tr.call(i)):{}}var i;var a,s}(e,u,Nr,t)}}a||(a=new Ir);var h=a.get(e);if(h)return h;if(a.set(e,s),!c)var f=n?function(e){return function(e,t,n){var r=t(e);return Jr(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,oo,Yr)}(e):oo(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(f||e,function(o,i){f&&(o=e[i=o]),Hr(s,i,Nr(o,t,n,r,i,e,a))}),s}function Br(e){return!(!ro(e)||(t=e,ar&&ar in t))&&(no(e)||Kn(e)?lr:Fn).test(qr(e));var t}function Wr(e){var t=new e.constructor(e.byteLength);return new dr(t).set(new dr(e)),t}function Gr(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Hr(n,a,void 0===s?e[a]:s)}return n}function Ur(e,t){var n,r,o=e.__data__;return("string"==(r=Y(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Qr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Br(n)?n:void 0}$r.prototype.clear=function(){this.__data__=Sr?Sr(null):{}},$r.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},$r.prototype.get=function(e){var t=this.__data__;if(Sr){var n=t[e];return n===pn?void 0:n}return cr.call(t,e)?t[e]:void 0},$r.prototype.has=function(e){var t=this.__data__;return Sr?void 0!==t[e]:cr.call(t,e)},$r.prototype.set=function(e,t){return this.__data__[e]=Sr&&void 0===t?pn:t,this},Rr.prototype.clear=function(){this.__data__=[]},Rr.prototype.delete=function(e){var t=this.__data__,n=Fr(t,e);return!(n<0||(n==t.length-1?t.pop():yr.call(t,n,1),0))},Rr.prototype.get=function(e){var t=this.__data__,n=Fr(t,e);return n<0?void 0:t[n][1]},Rr.prototype.has=function(e){return Fr(this.__data__,e)>-1},Rr.prototype.set=function(e,t){var n=this.__data__,r=Fr(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Lr.prototype.clear=function(){this.__data__={hash:new $r,map:new(xr||Rr),string:new $r}},Lr.prototype.delete=function(e){return Ur(this,e).delete(e)},Lr.prototype.get=function(e){return Ur(this,e).get(e)},Lr.prototype.has=function(e){return Ur(this,e).has(e)},Lr.prototype.set=function(e,t){return Ur(this,e).set(e,t),this},Ir.prototype.clear=function(){this.__data__=new Rr},Ir.prototype.delete=function(e){return this.__data__.delete(e)},Ir.prototype.get=function(e){return this.__data__.get(e)},Ir.prototype.has=function(e){return this.__data__.has(e)},Ir.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rr){var r=n.__data__;if(!xr||r.length<dn-1)return r.push([e,t]),this;n=this.__data__=new Lr(r)}return n.set(e,t),this};var Yr=gr?er(gr,Object):function(){return[]},Vr=function(e){return ur.call(e)};function Zr(e,t){return!!(t=null==t?mn:t)&&("number"==typeof e||Nn.test(e))&&e>-1&&e%1==0&&e<t}function Xr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||or)}function qr(e){if(null!=e){try{return sr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Kr(e,t){return e===t||e!=e&&t!=t}(_r&&Vr(new _r(new ArrayBuffer(1)))!=An||xr&&Vr(new xr)!=_n||Or&&"[object Promise]"!=Vr(Or.resolve())||jr&&Vr(new jr)!=En||Er&&"[object WeakMap]"!=Vr(new Er))&&(Vr=function(e){var t=ur.call(e),n=t==On?e.constructor:void 0,r=n?qr(n):void 0;if(r)switch(r){case kr:return An;case Mr:return _n;case Ar:return"[object Promise]";case Cr:return En;case Pr:return"[object WeakMap]"}return t});var Jr=Array.isArray;function eo(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=mn}(e.length)&&!no(e)}var to=br||function(){return!1};function no(e){var t=ro(e)?ur.call(e):"";return t==bn||t==wn}function ro(e){var t=Y(e);return!!e&&("object"==t||"function"==t)}function oo(e){return eo(e)?zr(e):function(e){if(!Xr(e))return wr(e);var t=[];for(var n in Object(e))cr.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var io=function(e){return so(!0===e,!1,arguments)};function ao(e,t){if("object"!==co(e))return t;for(var n in t)"object"===co(e[n])&&"object"===co(t[n])?e[n]=ao(e[n],t[n]):e[n]=t[n];return e}function so(e,t,n){var r=n[0],o=n.length;(e||"object"!==co(r))&&(r={});for(var i=0;i<o;++i){var a=n[i];if("object"===co(a))for(var s in a)if("__proto__"!==s){var c=e?io.clone(a[s]):a[s];r[s]=t?ao(r[s],c):c}}return r}function co(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function uo(e,t,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toGMTString()}document.cookie=e+"="+t+r+"; path=/"}io.recursive=function(e){return so(!0===e,!0,arguments)},io.clone=function(e){var t,n,r=e,o=co(e);if("array"===o)for(r=[],n=e.length,t=0;t<n;++t)r[t]=io.clone(e[t]);else if("object"===o)for(t in r={},e)r[t]=io.clone(e[t]);return r};var lo=function(){function e(){V(this,e),this.delegate={b62char:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b62string:""},this.generator=function(e){for(var t=0;t<e;t++){var n=Math.floor(62*Math.random());this.delegate.b62string+=this.delegate.b62char[n]}return this.delegate.b62string}}return X(e,[{key:"make",value:function(e){return this.generator(e)}}]),e}();var ho=Object.prototype.toString;var fo=Array.isArray;var po="[object AsyncFunction]",mo="[object Function]",vo="[object GeneratorFunction]",yo="[object Null]",go="[object Proxy]",bo="[object Undefined]",wo="object"==("undefined"==typeof global?"undefined":Y(global))&&global&&global.Object===Object&&global,_o="object"==("undefined"==typeof self?"undefined":Y(self))&&self&&self.Object===Object&&self,xo=wo||_o||Function("return this")(),Oo=Object.prototype,jo=Oo.hasOwnProperty,Eo=Oo.toString,So=xo.Symbol,ko=So?So.toStringTag:void 0;function Mo(e){return null==e?void 0===e?bo:yo:ko&&ko in Object(e)?function(e){var t=jo.call(e,ko),n=e[ko];try{e[ko]=void 0;var r=!0}catch(e){}var o=Eo.call(e);r&&(t?e[ko]=n:delete e[ko]);return o}(e):function(e){return Eo.call(e)}(e)}var Ao="[object Number]",Co=Object.prototype.toString;var Po="[object Number]",Do=Object.prototype.toString;var To={concat:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat.apply([],t)},shuffle:function(e){for(var t,n,r=e.slice(0),o=0;o<r.length;o++){var i=(t=0,n=o,Math.floor(Math.random()*(n-t+1)+t)),a=r[o];r[o]=r[i],r[i]=a}return r},max:function(e){return e&&e.length?function(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!se(a):n(a,s)))var s=a,c=i}return c}(e,ce,ae):void 0},min:function(e){return e&&e.length?function(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!fe(a):n(a,s)))var s=a,c=i}return c}(e,de,he):void 0},unique:function(e){for(var t=[],n=0;n<e.length;n++)-1==t.indexOf(e[n])&&t.push(e[n]);return t},Browser:function(){var e=window||{},t="undefined"!=typeof navigator?navigator:{},n=function(e,t){var n=navigator.mimeTypes;for(var r in n)if(n[r][e]==t)return!0;return!1},r=t.userAgent||{},o=this||{},i={Trident:r.indexOf("Trident")>-1||r.indexOf("NET CLR")>-1,Presto:r.indexOf("Presto")>-1,WebKit:r.indexOf("AppleWebKit")>-1,Gecko:r.indexOf("Gecko/")>-1,Safari:r.indexOf("Safari")>-1,Chrome:r.indexOf("Chrome")>-1||r.indexOf("CriOS")>-1,IE:r.indexOf("MSIE")>-1||r.indexOf("Trident")>-1,Edge:r.indexOf("Edge")>-1,Firefox:r.indexOf("Firefox")>-1||r.indexOf("FxiOS")>-1,"Firefox Focus":r.indexOf("Focus")>-1,Chromium:r.indexOf("Chromium")>-1,Opera:r.indexOf("Opera")>-1||r.indexOf("OPR")>-1,Vivaldi:r.indexOf("Vivaldi")>-1,Yandex:r.indexOf("YaBrowser")>-1,Arora:r.indexOf("Arora")>-1,Lunascape:r.indexOf("Lunascape")>-1,QupZilla:r.indexOf("QupZilla")>-1,"Coc Coc":r.indexOf("coc_coc_browser")>-1,Kindle:r.indexOf("Kindle")>-1||r.indexOf("Silk/")>-1,Iceweasel:r.indexOf("Iceweasel")>-1,Konqueror:r.indexOf("Konqueror")>-1,Iceape:r.indexOf("Iceape")>-1,SeaMonkey:r.indexOf("SeaMonkey")>-1,Epiphany:r.indexOf("Epiphany")>-1,360:r.indexOf("QihooBrowser")>-1,"360EE":r.indexOf("360EE")>-1,"360SE":r.indexOf("360SE")>-1,UC:r.indexOf("UC")>-1||r.indexOf(" UBrowser")>-1,QQBrowser:r.indexOf("QQBrowser")>-1,QQ:r.indexOf("QQ/")>-1,Baidu:r.indexOf("Baidu")>-1||r.indexOf("BIDUBrowser")>-1,Maxthon:r.indexOf("Maxthon")>-1,Sogou:r.indexOf("MetaSr")>-1||r.indexOf("Sogou")>-1,LBBROWSER:r.indexOf("LBBROWSER")>-1,"2345Explorer":r.indexOf("2345Explorer")>-1,TheWorld:r.indexOf("TheWorld")>-1,XiaoMi:r.indexOf("MiuiBrowser")>-1,Quark:r.indexOf("Quark")>-1,Qiyu:r.indexOf("Qiyu")>-1,Wechat:r.indexOf("MicroMessenger")>-1,Taobao:r.indexOf("AliApp(TB")>-1,Alipay:r.indexOf("AliApp(AP")>-1,Weibo:r.indexOf("Weibo")>-1,Douban:r.indexOf("com.douban.frodo")>-1,Suning:r.indexOf("SNEBUY-APP")>-1,iQiYi:r.indexOf("IqiyiApp")>-1,Windows:r.indexOf("Windows")>-1,Linux:r.indexOf("Linux")>-1||r.indexOf("X11")>-1,"Mac OS":r.indexOf("Macintosh")>-1,Android:r.indexOf("Android")>-1||r.indexOf("Adr")>-1,Ubuntu:r.indexOf("Ubuntu")>-1,FreeBSD:r.indexOf("FreeBSD")>-1,Debian:r.indexOf("Debian")>-1,"Windows Phone":r.indexOf("IEMobile")>-1||r.indexOf("Windows Phone")>-1,BlackBerry:r.indexOf("BlackBerry")>-1||r.indexOf("RIM")>-1,MeeGo:r.indexOf("MeeGo")>-1,Symbian:r.indexOf("Symbian")>-1,iOS:r.indexOf("like Mac OS X")>-1,"Chrome OS":r.indexOf("CrOS")>-1,WebOS:r.indexOf("hpwOS")>-1,Mobile:r.indexOf("Mobi")>-1||r.indexOf("iPh")>-1||r.indexOf("480")>-1,Tablet:r.indexOf("Tablet")>-1||r.indexOf("Pad")>-1||r.indexOf("Nexus 7")>-1},a=!1;if(e.chrome){var s=r.replace(/^.*Chrome\/([\d]+).*$/,"$1");s>36&&e.showModalDialog?a=!0:s>45&&(a=n("type","application/vnd.chromium.remoting-viewer"))}if(i.Mobile?i.Mobile=!(r.indexOf("iPad")>-1):a&&(n("type","application/gameplugin")?i["360SE"]=!0:i["360EE"]=!0),i.IE||i.Edge)switch(window.screenTop-window.screenY){case 71:case 74:case 99:case 102:i["360EE"]=!0;break;case 75:case 74:case 105:case 104:i["360SE"]=!0}i.Baidu&&i.Opera&&(i.Baidu=!1);var c,u={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Arora","Lunascape","QupZilla","Coc Coc","Kindle","Iceweasel","Konqueror","Iceape","SeaMonkey","Epiphany","360","360SE","360EE","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};for(var l in o.device="PC",o.language=((c=(t.browserLanguage||t.language).split("-"))[1]&&(c[1]=c[1].toUpperCase()),c.join("_")),u)for(var h=0;h<u[l].length;h++){var f=u[l][h];i[f]&&(o[l]=f)}var d={Windows:function(){var e=r.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[e]||e},Android:function(){return r.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return r.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return r.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return r.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return r.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return r.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};o.osVersion="",d[o.os]&&(o.osVersion=d[o.os](),o.osVersion==r&&(o.osVersion=""));var p={Safari:function(){return r.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return r.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return r.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return r.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return r.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return r.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return r.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return r.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return r.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return r.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Arora:function(){return r.replace(/^.*Arora\/([\d.]+).*$/,"$1")},Lunascape:function(){return r.replace(/^.*Lunascape[\/\s]([\d.]+).*$/,"$1")},QupZilla:function(){return r.replace(/^.*QupZilla[\/\s]([\d.]+).*$/,"$1")},"Coc Coc":function(){return r.replace(/^.*coc_coc_browser\/([\d.]+).*$/,"$1")},Kindle:function(){return r.replace(/^.*Version\/([\d.]+).*$/,"$1")},Iceweasel:function(){return r.replace(/^.*Iceweasel\/([\d.]+).*$/,"$1")},Konqueror:function(){return r.replace(/^.*Konqueror\/([\d.]+).*$/,"$1")},Iceape:function(){return r.replace(/^.*Iceape\/([\d.]+).*$/,"$1")},SeaMonkey:function(){return r.replace(/^.*SeaMonkey\/([\d.]+).*$/,"$1")},Epiphany:function(){return r.replace(/^.*Epiphany\/([\d.]+).*$/,"$1")},360:function(){return r.replace(/^.*QihooBrowser\/([\d.]+).*$/,"$1")},"360SE":function(){return{63:"10.0",55:"9.1",45:"8.1",42:"8.0",31:"7.0",21:"6.3"}[r.replace(/^.*Chrome\/([\d]+).*$/,"$1")]||""},"360EE":function(){return{63:"9.5",55:"9.0",50:"8.7",30:"7.5"}[r.replace(/^.*Chrome\/([\d]+).*$/,"$1")]||""},Maxthon:function(){return r.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return r.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return r.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return r.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return r.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return r.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},LBBROWSER:function(){return{57:"6.5",49:"6.0",46:"5.9",42:"5.3",39:"5.2",34:"5.0",29:"4.5",21:"4.0"}[navigator.userAgent.replace(/^.*Chrome\/([\d]+).*$/,"$1")]||""},"2345Explorer":function(){return r.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function(){return r.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return r.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return r.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return r.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return r.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return r.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return r.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return r.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return r.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return r.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return r.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};return o.version="",p[o.browser]&&(o.version=p[o.browser](),o.version==r&&(o.version="")),"Edge"==o.browser?o.engine="EdgeHTML":"Chrome"==o.browser&&parseInt(o.version)>27?o.engine="Blink":"Opera"==o.browser&&parseInt(o.version)>12?o.engine="Blink":"Yandex"==o.browser&&(o.engine="Blink"),this.isVersion=function(e){var t=e.toLowerCase(),n=parseInt(this.version),r=/\d+/g.exec(t)[0],o=!1;switch(/lt|gt|eq|\=|\>=|\<=|\<|\>/g.exec(t)[0]){case"lt":case"<":n<parseInt(r)&&(o=!0);break;case"gt":case">":n>parseInt(r)&&(o=!0);break;case"eq":case"=":n===parseInt(r)&&(o=!0)}return o},o},urlArgs:function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("=");if(-1!==r){var o=t[n].substring(0,r),i=t[n].substring(r+1);i=decodeURIComponent(i),e[o]=i}}return e},moment:Oe,qs:Me,eq:function(e,t){return e===t||e!=e&&t!=t},isEqual:function(e,t){return Vt(e,t)},cloneDeep:function(e){return Nr(e,!0,!0)},merge:io,cookieDel:function(e){uo(e,"",-1)},cookieGet:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},cookieSet:uo,excerpt:function(e,t){var n=e.split("");return n.splice(t,n.length-1),n.join("")+(n.length!==e.split("").length?"…":"")},trim:function(e){var t;switch(e+="",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all"){case"left":t=/^\s*/g;break;case"right":t=/\s*$/g;break;default:t=/(^\s*)|(\s*$)/g}return e.replace(t,"")},uId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return(new lo).make(e)},toRawType:function(e){return ho.call(e).slice(8,-1)},rgbToHex:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=/([\d]{1,3})\,\s*([\d]{1,3})\,\s*([\d]{1,3})\,?\s*((0\.[\d])|(\.[\d])|(0|1))?/.exec(e);return n?"#"+n[0].split(",").map(function(e,n){if(n>2&&e)return!0===t?(256*parseFloat(e.trim())).toString(16).slice(0,2):"";var r=(e.trim()-0).toString(16);return r.length<2?"0"+r:r}).join(""):null},hexToRgb:function(e){var t=[];if(6===(e=e.replace(/^[#]?(?:([0-9a-f]{6})|([0-9a-f]{3}))$/i,function(e,t,n){return t||n.replace(/([0-9a-f])/gi,"$1$1")})).length){for(var n=0;n<3;n++)t.push(parseInt(e.slice(2*n,2*n+2),16));return t.join(",")}return null},isArray:fo,isEmptyObject:function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},isFunction:function(e){if(!function(e){var t=Y(e);return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=Mo(e);return t==mo||t==vo||t==po||t==go},isNaN:function(e){return function(e){return"number"==typeof e||function(e){return!!e&&"object"==Y(e)}(e)&&Co.call(e)==Ao}(e)&&e!=+e},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e||function(e){return!!e&&"object"==Y(e)}(e)&&Do.call(e)==Po},isObject:function(e){var t=Y(e);return null!=e&&("object"==t||"function"==t)},isPlainObject:function(e){return"[object Object]"===ho.call(e)}},$o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,r;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(r=$o.getWebGLErrorMessage()).id=n,t.appendChild(r)}};function Ro(e,a){var s,c,u,l,h;this.object=e,this.domElement=void 0!==a?a:document,this.enabled=!0,this.target=new t,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:n.LEFT,ZOOM:n.MIDDLE,PAN:n.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return b.phi},this.getAzimuthalAngle=function(){return b.theta},this.saveState=function(){f.target0.copy(f.target),f.position0.copy(f.object.position),f.zoom0=f.object.zoom},this.reset=function(){f.target.copy(f.target0),f.object.position.copy(f.position0),f.object.zoom=f.zoom0,f.object.updateProjectionMatrix(),f.dispatchEvent(d),f.update(),y=v.NONE},this.update=(s=new t,c=(new r).setFromUnitVectors(e.up,new t(0,1,0)),u=c.clone().inverse(),l=new t,h=new r,function(){var e=f.object.position;return s.copy(e).sub(f.target),s.applyQuaternion(c),b.setFromVector3(s),f.autoRotate&&y===v.NONE&&$(2*Math.PI/60/60*f.autoRotateSpeed),b.theta+=w.theta,b.phi+=w.phi,b.theta=Math.max(f.minAzimuthAngle,Math.min(f.maxAzimuthAngle,b.theta)),b.phi=Math.max(f.minPolarAngle,Math.min(f.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=_,b.radius=Math.max(f.minDistance,Math.min(f.maxDistance,b.radius)),f.target.add(x),s.setFromSpherical(b),s.applyQuaternion(u),e.copy(f.target).add(s),f.object.lookAt(f.target),!0===f.enableDamping?(w.theta*=1-f.dampingFactor,w.phi*=1-f.dampingFactor):w.set(0,0,0),_=1,x.set(0,0,0),!!(O||l.distanceToSquared(f.object.position)>g||8*(1-h.dot(f.object.quaternion))>g)&&(f.dispatchEvent(d),l.copy(f.object.position),h.copy(f.object.quaternion),O=!1,!0)}),this.dispose=function(){f.domElement.removeEventListener("contextmenu",X,!1),f.domElement.removeEventListener("mousedown",B,!1),f.domElement.removeEventListener("wheel",U,!1),f.domElement.removeEventListener("touchstart",Y,!1),f.domElement.removeEventListener("touchend",Z,!1),f.domElement.removeEventListener("touchmove",V,!1),document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",G,!1),window.removeEventListener("keydown",Q,!1)};var f=this,d={type:"change"},p={type:"start"},m={type:"end"},v={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},y=v.NONE,g=1e-6,b=new o,w=new o,_=1,x=new t,O=!1,j=new i,E=new i,S=new i,k=new i,M=new i,A=new i,C=new i,P=new i,D=new i;function T(){return Math.pow(.95,f.zoomSpeed)}function $(e){w.theta-=e}function R(e){w.phi-=e}var L,I=(L=new t,function(e,t){L.setFromMatrixColumn(t,0),L.multiplyScalar(-e),x.add(L)}),z=function(){var e=new t;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),x.add(e)}}(),H=function(){var e=new t;return function(t,n){var r=f.domElement===document?f.domElement.body:f.domElement;if(f.object.isPerspectiveCamera){var o=f.object.position;e.copy(o).sub(f.target);var i=e.length();i*=Math.tan(f.object.fov/2*Math.PI/180),I(2*t*i/r.clientHeight,f.object.matrix),z(2*n*i/r.clientHeight,f.object.matrix)}else f.object.isOrthographicCamera?(I(t*(f.object.right-f.object.left)/f.object.zoom/r.clientWidth,f.object.matrix),z(n*(f.object.top-f.object.bottom)/f.object.zoom/r.clientHeight,f.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),f.enablePan=!1)}}();function F(e){f.object.isPerspectiveCamera?_/=e:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom*e)),f.object.updateProjectionMatrix(),O=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function N(e){f.object.isPerspectiveCamera?_*=e:f.object.isOrthographicCamera?(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom/e)),f.object.updateProjectionMatrix(),O=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function B(e){if(!1!==f.enabled){switch(e.preventDefault(),e.button){case f.mouseButtons.ORBIT:if(!1===f.enableRotate)return;!function(e){j.set(e.clientX,e.clientY)}(e),y=v.ROTATE;break;case f.mouseButtons.ZOOM:if(!1===f.enableZoom)return;!function(e){C.set(e.clientX,e.clientY)}(e),y=v.DOLLY;break;case f.mouseButtons.PAN:if(!1===f.enablePan)return;!function(e){k.set(e.clientX,e.clientY)}(e),y=v.PAN}y!==v.NONE&&(document.addEventListener("mousemove",W,!1),document.addEventListener("mouseup",G,!1),f.dispatchEvent(p))}}function W(e){if(!1!==f.enabled)switch(e.preventDefault(),y){case v.ROTATE:if(!1===f.enableRotate)return;!function(e){E.set(e.clientX,e.clientY),S.subVectors(E,j);var t=f.domElement===document?f.domElement.body:f.domElement;$(2*Math.PI*S.x/t.clientWidth*f.rotateSpeed),R(2*Math.PI*S.y/t.clientHeight*f.rotateSpeed),j.copy(E),f.update()}(e);break;case v.DOLLY:if(!1===f.enableZoom)return;!function(e){P.set(e.clientX,e.clientY),D.subVectors(P,C),D.y>0?F(T()):D.y<0&&N(T()),C.copy(P),f.update()}(e);break;case v.PAN:if(!1===f.enablePan)return;!function(e){M.set(e.clientX,e.clientY),A.subVectors(M,k),H(A.x,A.y),k.copy(M),f.update()}(e)}}function G(e){!1!==f.enabled&&(document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",G,!1),f.dispatchEvent(m),y=v.NONE)}function U(e){!1===f.enabled||!1===f.enableZoom||y!==v.NONE&&y!==v.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?N(T()):e.deltaY>0&&F(T()),f.update()}(e),f.dispatchEvent(p),f.dispatchEvent(m))}function Q(e){!1!==f.enabled&&!1!==f.enableKeys&&!1!==f.enablePan&&function(e){switch(e.keyCode){case f.keys.UP:H(0,f.keyPanSpeed),f.update();break;case f.keys.BOTTOM:H(0,-f.keyPanSpeed),f.update();break;case f.keys.LEFT:H(f.keyPanSpeed,0),f.update();break;case f.keys.RIGHT:H(-f.keyPanSpeed,0),f.update()}}(e)}function Y(e){if(!1!==f.enabled){switch(e.touches.length){case 1:if(!1===f.enableRotate)return;!function(e){j.set(e.touches[0].pageX,e.touches[0].pageY)}(e),y=v.TOUCH_ROTATE;break;case 2:if(!1===f.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r)}(e),y=v.TOUCH_DOLLY;break;case 3:if(!1===f.enablePan)return;!function(e){k.set(e.touches[0].pageX,e.touches[0].pageY)}(e),y=v.TOUCH_PAN;break;default:y=v.NONE}y!==v.NONE&&f.dispatchEvent(p)}}function V(e){if(!1!==f.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===f.enableRotate)return;if(y!==v.TOUCH_ROTATE)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY),S.subVectors(E,j);var t=f.domElement===document?f.domElement.body:f.domElement;$(2*Math.PI*S.x/t.clientWidth*f.rotateSpeed),R(2*Math.PI*S.y/t.clientHeight*f.rotateSpeed),j.copy(E),f.update()}(e);break;case 2:if(!1===f.enableZoom)return;if(y!==v.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);P.set(0,r),D.subVectors(P,C),D.y>0?N(T()):D.y<0&&F(T()),C.copy(P),f.update()}(e);break;case 3:if(!1===f.enablePan)return;if(y!==v.TOUCH_PAN)return;!function(e){M.set(e.touches[0].pageX,e.touches[0].pageY),A.subVectors(M,k),H(A.x,A.y),k.copy(M),f.update()}(e);break;default:y=v.NONE}}function Z(e){!1!==f.enabled&&(f.dispatchEvent(m),y=v.NONE)}function X(e){!1!==f.enabled&&e.preventDefault()}f.domElement.addEventListener("contextmenu",X,!1),f.domElement.addEventListener("mousedown",B,!1),f.domElement.addEventListener("wheel",U,!1),f.domElement.addEventListener("touchstart",Y,!1),f.domElement.addEventListener("touchend",Z,!1),f.domElement.addEventListener("touchmove",V,!1),window.addEventListener("keydown",Q,!1),this.update()}Ro.prototype=Object.create(e.prototype),Ro.prototype.constructor=Ro,Object.defineProperties(Ro.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var Lo=function(){function e(t){V(this,e),this.__raycaster=new a,this.__mouse=new i,this.__resize=t.__proto__._onResize,this.__mousemove=t.__proto__._onMouseMove,this.__mousedown=t.__proto__._onMouseDown,this.target=t,Object.assign(this,t),this.camera||this.renderer||this.el?this.__resize||this.__mousemove||this.__mousedown?(this.__resize__=this.onWindowResize.bind(this),this.__mousemove__=this.onDocumentMouseMove.bind(this),this.__touchstart__=this.onDocumentTouchStart.bind(this),this.__mousedown__=this.onDocumentMouseDown.bind(this),this.mousemove_timer=null,this.mousemove_interval=10,this.enable=!0,this.__resize&&window.addEventListener("resize",this.__resize__,!1),this.__mousemove&&this.el.addEventListener("mousemove",this.__mousemove__,!1),this.__mousedown&&(this.el.addEventListener("touchstart",this.__touchstart__,!1),this.el.addEventListener("mousedown",this.__mousedown__,!1))):console.warn("THREE.Event:Users need to implement _onResize(),_onMouseMove(),_onMouseDown() method"):console.warn("THREE.Event:not find camera, renderer, domElement,Please ensure that it is a valid 3D control")}return X(e,[{key:"dispose",value:function(){window.removeEventListener("resize",this.__resize__,!1),this.el.removeEventListener("mousemove",this.__mousemove__,!1),this.el.removeEventListener("touchstart",this.__touchstart__,!1),this.el.removeEventListener("mousedown",this.__mousedown__,!1)}},{key:"onWindowResize",value:function(e){this.camera.aspect=this.el.offsetWidth/this.el.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.el.offsetWidth,this.el.offsetHeight),this.enable&&this.__resize.bind(this.target)(e)}},{key:"onDocumentMouseMove",value:function(e){var t=this;e.preventDefault(),this.mousemove_timer&&clearTimeout(this.mousemove_timer),this.mousemove_timer=setTimeout(function(){t.__mouse.x=e.offsetX/t.el.offsetWidth*2-1,t.__mouse.y=-e.offsetY/t.el.offsetHeight*2+1,t.__raycaster.setFromCamera(t.__mouse,t.camera);var n=t.__raycaster.intersectObjects(t.scene.children,!0);t.enable&&t.__mousemove.bind(t.target)(e,n)},this.mousemove_interval)}},{key:"onDocumentTouchStart",value:function(e){e.preventDefault(),e.clientX=e.touches[0].pageX,e.clientY=e.touches[0].pageY,this.enable&&this.onDocumentMouseDown(e)}},{key:"onDocumentMouseDown",value:function(e){e.preventDefault(),this.__mouse.x=(e.offsetX||e.clientX)/this.el.offsetWidth*2-1,this.__mouse.y=-(e.offsetY||e.clientY)/this.el.offsetHeight*2+1,this.__raycaster.setFromCamera(this.__mouse,this.camera);var t=this.__raycaster.intersectObjects(this.scene.children,!0);this.enable&&this.__mousedown.bind(this.target)(e,t)}}]),e}();void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var Io=Io||function(){var e=[];return{REVISION:"14",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<e.length;)e[n].update(t)?n++:e.splice(n,1);return!0}}}();function zo(e){return"string"==typeof e&&(e=-1!==e.indexOf("#")?parseInt(e.replace("#",""),16):new s(e).getHex()),e}function Ho(e,t,n,r,o,i){"number"!=typeof n&&(n=1e3),i||(i=function(){}),new Io.Tween(e).to(t,n).delay(r||0).easing(o||Io.Easing.Linear.None).start().onComplete(i)}Io.Tween=function(e){var t=e,n={},r={},o={},i=1e3,a=0,s=!1,c=!1,u=0,l=null,h=Io.Easing.Linear.None,f=Io.Interpolation.Linear,d=[],p=null,m=!1,v=null,y=null,g=null;for(var b in e)n[b]=parseFloat(e[b],10);this.to=function(e,t){return void 0!==t&&(i=t),r=e,this},this.start=function(e){for(var i in Io.add(this),c=!0,m=!1,l=void 0!==e?e:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),l+=u,r){if(r[i]instanceof Array){if(0===r[i].length)continue;r[i]=[t[i]].concat(r[i])}n[i]=t[i],n[i]instanceof Array==0&&(n[i]*=1),o[i]=n[i]||0}return this},this.stop=function(){return c?(Io.remove(this),c=!1,null!==g&&g.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=d.length;t>e;e++)d[e].stop()},this.delay=function(e){return u=e,this},this.repeat=function(e){return a=e,this},this.yoyo=function(e){return s=e,this},this.easing=function(e){return h=e,this},this.interpolation=function(e){return f=e,this},this.chain=function(){return d=arguments,this},this.onStart=function(e){return p=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return y=e,this},this.onStop=function(e){return g=e,this},this.update=function(e){var c;if(l>e)return!0;!1===m&&(null!==p&&p.call(t),m=!0);var g=(e-l)/i,b=h(g=g>1?1:g);for(c in r){var w=n[c]||0,_=r[c];_ instanceof Array?t[c]=f(_,b):("string"==typeof _&&(_=w+parseFloat(_,10)),"number"==typeof _&&(t[c]=w+(_-w)*b))}if(null!==v&&v.call(t,b),1==g){if(a>0){for(c in isFinite(a)&&a--,o){if("string"==typeof r[c]&&(o[c]=o[c]+parseFloat(r[c],10)),s){var x=o[c];o[c]=r[c],r[c]=x}n[c]=o[c]}return l=e+u,!0}null!==y&&y.call(t);for(var O=0,j=d.length;j>O;O++)d[O].start(e);return!1}return!0}},Io.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/.4)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Io.Easing.Bounce.Out(1-e)},Out:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*Io.Easing.Bounce.In(2*e):.5*Io.Easing.Bounce.Out(2*e-1)+.5}}},Io.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),i=Io.Interpolation.Utils.Linear;return 0>t?i(e[0],e[1],r):t>1?i(e[n],e[n-1],n-r):i(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){var n,r=0,o=e.length-1,i=Math.pow,a=Io.Interpolation.Utils.Bernstein;for(n=0;o>=n;n++)r+=i(1-t,o-n)*i(t,n)*e[n]*a(o,n);return r},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),i=Io.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>t&&(o=Math.floor(r=n*(1+t))),i(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):0>t?e[0]-(i(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):i(e[o?o-1:0],e[o],e[o+1>n?n:o+1],e[o+2>n?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Io.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n,r=1;if(e[t])return e[t];for(n=t;n>1;n--)r*=n;return e[t]=r}}(),CatmullRom:function(e,t,n,r,o){var i=.5*(n-e),a=.5*(r-t),s=o*o;return(2*t-2*n+i+a)*(o*s)+(-3*t+3*n-2*i-a)*s+i*o+t}}};var Fo=function(){var e,t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Object]":"object"},o=function(e){return null==e?String(e):r[t.call(e)]||"object"},i=Array.isArray||function(e){return"array"===o(e)},a=function(e){if(!e||"object"!==o(e)||e.nodeType||function(e){return e&&"object"===Y(e)&&"setInterval"in e}(e))return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(t in e);return void 0===t||n.call(e,t)};return function t(n,r,o){for(var s in o){var c=r[s],u=o[s];if(r!==u)if(n&&u&&(a(u)||(e=i(u)))){var l=void 0;e?(e=!1,l=c&&i(c)?c:[]):l=c&&a(c)?c:{},r[s]=t(n,l,u)}else void 0!==u&&(r[s]=u)}return r}}(),No=function(){function e(){V(this,e)}return X(e,null,[{key:"create",value:function(e,t){var n={size:50,follow:!0,family:"Arial",borderColor:"#000000",color:"#ffffff",style:"oblique",weight:"bold"};return Object.assign(n,t),function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=512,n.height=512,r.clearRect(0,0,512,512),r.font="100px "+t.family,r.fillStyle=t.color,r.textAlign="center",r.fillText(e,256,256),r.strokeStyle=t.borderColor,r.strokeText(e,256,256);var o=new c(n);o.needsUpdate=!0;var i=null;if(t.follow){var a=new u({map:o});i=new l(a)}else{var s=new h({map:o,color:16777215,transparent:!0,side:f}),m=new d(1,1,1,1);i=new p(m,s)}return i.scale.set(t.size/10,t.size/10,1),i}(e,n)}}]),e}();var Bo=ke(function(e){e.exports&&(e.exports=function(){var e=Date.now(),t=e,n=0,r=1/0,o=0,i=0,a=1/0,s=0,c=0,u=0,l=document.createElement("div");l.id="stats",l.addEventListener("mousedown",function(e){e.preventDefault(),b(++u%2)},!1),l.style.cssText="width:80px;opacity:0.9;cursor:pointer";var h=document.createElement("div");h.id="fps",h.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",l.appendChild(h);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",h.appendChild(f);var d=document.createElement("div");for(d.id="fpsGraph",d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",h.appendChild(d);d.children.length<74;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#113",d.appendChild(p)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",l.appendChild(m);var v=document.createElement("div");v.id="msText",v.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",v.innerHTML="MS",m.appendChild(v);var y=document.createElement("div");for(y.id="msGraph",y.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(y);y.children.length<74;){var g=document.createElement("span");g.style.cssText="width:1px;height:30px;float:left;background-color:#131",y.appendChild(g)}var b=function(e){switch(u=e){case 0:h.style.display="block",m.style.display="none";break;case 1:h.style.display="none",m.style.display="block"}},w=function(e,t){e.appendChild(e.firstChild).style.height=t+"px"};return{REVISION:11,domElement:l,setMode:b,begin:function(){e=Date.now()},end:function(){var u=Date.now();return n=u-e,r=Math.min(r,n),o=Math.max(o,n),v.textContent=n+" MS ("+r+"-"+o+")",w(y,Math.min(30,30-n/200*30)),c++,u>t+1e3&&(i=Math.round(1e3*c/(u-t)),a=Math.min(a,i),s=Math.max(s,i),f.textContent=i+" FPS ("+a+"-"+s+")",w(d,Math.min(30,30-i/100*30)),t=u,c=0),u},update:function(){e=this.end()}}})}),Wo=function(e){function n(e){var t;V(this,n),(t=ne(this,K(n).call(this,e))).type="Area",t.name=e.name,Object.assign(t.userData,e);var r=e.coords;return t._mesh=t.getMesh(r,e),t._line=t.getLine(r,e),t.add(t._mesh),t.add(t._line),e.loadEffect&&(t.setPosition({x:0,y:-40,z:-1e3}),t.setPosition({x:0,y:0,z:0},500,10*n.count,Io.Easing.Quartic.Out)),n.count++,t}return q(n,O),X(n,[{key:"getMesh",value:function(e,t){var n=this;if(e)try{var r=new m;return e.forEach(function(e){var t=n.getGeoPoints(e),o=n.getExtrudeGeometry(t);r.merge(o,o.matrix)}),this.getGeoMesh(r,t)}catch(e){console.warn("Area.getMesh:"+e.message)}}},{key:"getLine",value:function(e,n){var r=this;if(e){var o=new v({opacity:1,linewidth:2,polygonOffset:!0,polygonOffsetFactor:1,color:this.userData.lineColor}),i=new y;return e.forEach(function(e){for(var n=r.getGeoPoints(e),a=new m,s=0,c=n.length;s<c;s++)a.vertices.push(new t(n[s].x,n[s].y,r.userData.extrude.amount+r.userData.extrude.amount/100));var u=new g(a,o);i.add(u)}),i}}},{key:"getGeoPoints",value:function(e){try{for(var t=[],n=0,r=e.length;n<r;n++)t.push(new i(e[n][0],e[n][1]));return t}catch(t){console.log("getGeoPoints:parse coord error:"+JSON.stringify(e))}}},{key:"getExtrudeGeometry",value:function(e){var t=new b(e),n=Object.assign({},this.userData.extrude);return new w(t,n)}},{key:"getGeoMesh",value:function(e,t){var n={};n.color=null!=t.color?zo(t.color):16777215*Math.random(),n.shininess=t.shininess||100,n.transparent=!0,n.opacity=void 0===t.opacity?this.userData.opacity:t.opacity,e.computeFlatVertexNormals();return this.update=function(){},this.userData.hasPhong?new p(e,new _(n)):new p(e,new x(n))}},{key:"setColor",value:function(e,t,n,r,o){this.userData.color=zo(e),t&&"number"==typeof t?(e=new s(zo(e)),Ho(this.mesh.material.color,e,t,n,r,o)):this.mesh.material.color.set(zo(e))}},{key:"setPosition",value:function(e,t,n,r,o){t&&"number"==typeof t?Ho(this.position,e,t,n,r,o):this.position.set(e.x,e.y,e.z)}},{key:"setRotation",value:function(e,t,n,r,o){e.x=e.x*(Math.PI/180),e.y=e.y*(Math.PI/180),e.z=e.z*(Math.PI/180),Ho(this.rotation,e,t,n,r,o)}},{key:"setScale",value:function(e,t,n,r){t&&"number"==typeof t?Ho(this.scale,e,t,n,easing,callback):this.scale.set(e.x,e.y,e.z)}},{key:"onmouseout",value:function(e,t){this.userData.hasHoverHeight&&new Io.Tween(this.position).to({z:0},this.userData.hoverAnimaTime).start(),new Io.Tween(this.mesh.material.color).to(new s(zo(this.userData.color)),this.userData.hoverAnimaTime).start(),e.dispatchEvent({type:"mouseout",target:this,orgEvent:t})}},{key:"onmouseover",value:function(e,t){this.userData.hasHoverHeight&&new Io.Tween(this.position).to({z:this.userData.extrude.amount/2},this.userData.hoverAnimaTime).start(),new Io.Tween(this.mesh.material.color).to(new s(zo(this.userData.hoverColor)),this.userData.hoverAnimaTime).start(),e.dispatchEvent({type:"mouseover",target:this,orgEvent:t})}},{key:"onmousedown",value:function(e,t){e.dispatchEvent({type:"mousedown",target:this,orgEvent:t})}},{key:"mesh",get:function(){return this._mesh}},{key:"line",get:function(){return this._line}}]),n}();Wo.count=0;var Go=function(e){function t(e){var n;V(this,t),(n=ne(this,K(t).call(this,e))).type="DataRange",n.name=e.name,Object.assign(n.userData,e);var r=new j(e.width,e.height,e.extrudeHeight),o=new _({color:e.color}),i=new p(r,o);if(n.position.y=n.position.y-t.count*(e.height+e.spacing),e.showName){var a=Font3D.create(e.name,{color:"#ffffff"});a.position.copy(i.position),a.position.y=a.position.y-.3,a.position.add(e.namePosition),n.add(a),n.txt=a}return n.mesh=i,n.add(i),t.count++,n}return q(t,O),X(t,[{key:"select",value:function(){var e=this;return this.rangeAreas.map(function(t){t.setColor(e.userData.hoverColor),t.userData.hasHoverHeight&&new Io.Tween(t.position).to({z:t.userData.extrude.amount/2},t.userData.hoverAnimaTime).start()})}},{key:"unselect",value:function(){var e=this;this.rangeAreas.map(function(t){t.setColor(e.userData.color),t.userData.hasHoverHeight&&new Io.Tween(t.position).to({z:0},t.userData.hoverAnimaTime).start()})}},{key:"onmouseout",value:function(e,t){this.unselect(),new Io.Tween(this.mesh.material.color).to(new s(zo(this.userData.color)),this.userData.hoverAnimaTime).start(),this.userData.hasEvent&&e.dispatchEvent({type:"mouseout",target:this,orgEvent:t})}},{key:"onmouseover",value:function(e,t){this.select(),new Io.Tween(this.mesh.material.color).to(new s(zo(this.userData.hoverColor)),this.userData.hoverAnimaTime).start(),this.userData.hasEvent&&e.dispatchEvent({type:"mouseover",target:this,orgEvent:t})}},{key:"onmousedown",value:function(e,t){this.userData.hasEvent&&e.dispatchEvent({type:"mousedown",target:this,orgEvent:t})}}]),t}();Go.count=0;var Uo=function(e){function t(e){var n;V(this,t),(n=ne(this,K(t).call(this))).material=new u({map:t.texture,color:e.color,blending:E}),n.type="Mark",n.name=e.name,Object.assign(n.userData,e);var r=e.size||n.userData.min;return r=(r=r<n.userData.min?n.userData.min:r)>n.userData.max?n.userData.max:r,n.userData.size=r,n.scale.set(r,r,1),n.position.x=e.coord[0],n.position.y=e.coord[1],n.position.z=2+35*r/100,n.update=function(){},t.count++,n}return q(t,l),X(t,null,[{key:"draw",value:function(e,t){t=t||1,e.clearRect(0,0,128,128),e.fillStyle="#ffffff",e.arc(64,64,20,0,2*Math.PI,!1),e.fill(),e.fillStyle="rgba(255,255,255,.5)",e.arc(64,64,60*t,0,2*Math.PI,!1),e.fill()}},{key:"texture",get:function(){if(!t._texture){var e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");t.draw(n);var r=new c(e);r.needsUpdate=!0,t._texture=r}return t._texture}}]),X(t,[{key:"setColor",value:function(e,t,n,r,o){this.userData.color=zo(e),t&&"number"==typeof t?(e=new s(zo(e)),Ho(this.material.color,e,t,n,r,o)):this.material.color.set(zo(e))}},{key:"setPosition",value:function(e,t,n,r,o){t&&"number"==typeof t?Ho(this.position,e,t,n,r,o):this.position.set(e.x,e.y,e.z)}},{key:"setRotation",value:function(e,t,n,r,o){e.x=e.x*(Math.PI/180),e.y=e.y*(Math.PI/180),e.z=e.z*(Math.PI/180),Ho(this.rotation,e,t,n,r,o)}},{key:"setScale",value:function(e,t,n,r,o){t&&"number"==typeof t?Ho(this.scale,e,t,n,r,o):this.scale.set(e.x,e.y,e.z)}},{key:"onmouseout",value:function(e,t){var n=1*this.userData.size;new Io.Tween(this.scale).to({x:n,y:n},this.userData.hoverAnimaTime).start(),new Io.Tween(this.material.color).to(new s(zo(this.userData.color)),this.userData.hoverAnimaTime).start(),e.dispatchEvent({type:"mouseout",target:this,orgEvent:t})}},{key:"onmouseover",value:function(e,t){var n=1.5*this.userData.size;new Io.Tween(this.scale).to({x:n,y:n},this.userData.hoverAnimaTime).start(),new Io.Tween(this.material.color).to(new s(zo(this.userData.hoverColor)),this.userData.hoverAnimaTime).start(),e.dispatchEvent({type:"mouseover",target:this,orgEvent:t})}},{key:"onmousedown",value:function(e,t){e.dispatchEvent({type:"mousedown",target:this,orgEvent:t})}}]),t}();Uo.count=0,Uo._texture=null;var Qo={};Qo.line={uniforms:{amplitude:{value:1},color:{value:16777215},texture:{value:null}},vertexShader:["uniform float amplitude;","attribute float size;","attribute vec3 customColor;","varying vec3 vColor;","void main() {","vColor = customColor;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_PointSize = size;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D texture;","varying vec3 vColor;","void main() {","gl_FragColor = vec4( color * vColor, 1.0 );","gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );","}"].join("\n")},Qo.edgelight={uniforms:{s:{type:"f",value:-1},b:{type:"f",value:1},p:{type:"f",value:2},glowColor:{type:"c",value:new s(65535)}},vertexShader:["varying vec3 vNormal;","varying vec3 vPositionNormal;","void main() {","vNormal = normalize( normalMatrix * normal ); ","vPositionNormal = normalize(( modelViewMatrix * vec4(position, 1.0) ).xyz);","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 glowColor;","uniform float p;","uniform float b;","uniform float s;","varying vec3 vNormal;","varying vec3 vPositionNormal;","void main() ","{","  float a = pow( b + s * abs(dot(vNormal, vPositionNormal)), p );","  gl_FragColor = vec4( glowColor, a );","}"].join("\n")},Qo.createShaderMaterial=function(e,t,n){return new S({uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:t||k,blending:n||E,transparent:!0})};var Yo=function(e){function n(e){var r;V(this,n);var o=e.coords[0],i=e.coords[1],a=o[0],c=o[1],u=i[0],l=i[1],h=u-a,f=l-c,d=Math.pow(h*h+f*f,.5),p=[new t(a,c,e.extrudeHeight),new t((a+u)/2,(c+l)/2,e.extrudeHeight+e.spaceHeight),new t(u,l,e.extrudeHeight)],y=ee(M,p),g=new m,b=(d+.1)*e.haloDensity;b<30&&(b=30),g.vertices=y.getPoints(b).reverse(),g.vertices.forEach(function(){g.colors.push(new s(16777215))});var w=new v({color:e.color,opacity:1,blending:E,transparent:!0,depthWrite:!1,vertexColors:!0,linewidth:1});return r=ne(this,K(n).call(this,g,w)),Object.assign(r.userData,e),e.hasHalo&&r.initHalo(g),r.index=n.count++,n.array.push(te(te(r))),r}return q(n,g),X(n,null,[{key:"draw",value:function(e){e.clearRect(0,0,128,128),e.fillStyle="#ffffff",e.arc(64,64,20,0,2*Math.PI,!1),e.fill(),e.fillStyle="rgba(255,255,255,.7)",e.arc(64,64,60,0,2*Math.PI,!1),e.fill()}},{key:"texture",get:function(){if(!n._texture){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d");n.draw(t);var r=new c(e);r.needsUpdate=!0,n._texture=r}return n._texture}}]),X(n,[{key:"initHalo",value:function(e){for(var r=this,o=e.vertices.length,i=new Float32Array(3*o),a=new Float32Array(3*o),c=new Float32Array(o),u=new t,l=new s(zo(this.userData.color)),h=0;h<o;h++)u.x=e.vertices[h].x,u.y=e.vertices[h].y,u.z=e.vertices[h].z,u.toArray(i,3*h),l.toArray(a,3*h),c[h]=r.userData.haloSize;var f=new A;f.addAttribute("position",new C(i,3)),f.addAttribute("customColor",new C(a,3)),f.addAttribute("size",new C(c,1));var d=P.line;d.uniforms={amplitude:{value:1},color:{value:new s(zo(this.userData.haloColor))},texture:{value:n.texture}};var p=new S({uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:E,depthTest:!0,depthWrite:!1,transparent:!0}),m=new D(f,p);m.dynamic=!0,this.add(m),this.halo=m,m.update=function(){if(r.userData.hasHalo&&r.userData.hasHaloAnimate){for(var e=.005*Date.now()+3*r.index,t=this.geometry.attributes,n=0;n<t.size.array.length;n++)t.size.array[n]=r.userData.haloSize+r.userData.haloSize*Math.sin(r.userData.haloRunRate*n+e);t.size.needsUpdate=!0}}}},{key:"update",value:function(){this.halo.update()}},{key:"setColor",value:function(e,t){void 0!==e&&(this.material.color=new s(zo(e)))}},{key:"setLineWidth",value:function(e){this.userData.hasHalo||console.warn("Setting the LineWidth must be hasHalo:true"),this.userData.haloSize=e}},{key:"onmouseout",value:function(e,t){if(this.userData.hoverExclusive&&n.array.map(function(e){e.halo&&(e.halo.visible=!0),e.setColor(e.userData.color)}),this.userData.hasHalo){var r=this.userData.haloSize/1.5;this.userData.haloSize=r}this.setColor(this.userData.color),e.dispatchEvent({type:"mouseout",target:this,orgEvent:t})}},{key:"onmouseover",value:function(e,t){var r=this;if(this.userData.hoverExclusive&&n.array.map(function(e){e.halo&&(e.halo.visible=!1),e.setColor(r.userData.decayColor)}),this.userData.hasHalo){var o=1.5*this.userData.haloSize;this.userData.haloSize=o,this.halo.visible=!0}this.setColor(this.userData.hoverColor?this.userData.hoverColor:this.userData.color),e.dispatchEvent({type:"mouseover",target:this,orgEvent:t})}},{key:"onmousedown",value:function(e,t){e.dispatchEvent({type:"mousedown",target:this,orgEvent:t})}}]),n}();Yo.count=0,Yo.array=[],Yo._texture=null;var Vo={amount:1,bevelThickness:1,bevelSize:.2,bevelEnabled:!1,bevelSegments:5,curveSegments:1,steps:1},Zo=function(){function e(t){if(V(this,e),$o.webgl){var n={name:"",el:document.body,geoData:null,hasStats:!0,hasControls:!0,autoRotate:!1,ambientColor:3355443,directionalColor:16777215,hasLoadEffect:!1,debugger:!1,cameraPosition:{x:0,y:0,z:40},extrude:Vo,area:{data:[],name:"",color:3368703,hoverColor:16750899,lineColor:16777215,opacity:1,hasPhong:!0,shininess:50,hoverAnimaTime:300,loadEffect:!1,hasHoverHeight:!0},dataRange:{data:[],width:1,height:.7,position:{x:23,y:-8,z:1},spacing:.2,text:["高","低"],textColor:"#ffffff",showName:!1,namePosition:{x:-2,y:0,z:0},hoverColor:16750899,hoverAnimaTime:100,hasHoverHeight:!0,hasEvent:!0},mark:{data:[],name:"",color:16777215,hoverColor:16750899,hoverAnimaTime:100,min:.01,max:5},line:{data:[],color:5631743,hoverColor:16750899,hoverExclusive:!0,hoverAnimaTime:100,spaceHeight:5,hasHalo:!0,hasHaloAnimate:!0,haloDensity:2,haloRunRate:.01,haloColor:16777215,haloSize:10,decayColor:2236962},mapObject:null,areaGroup:null,lineGroup:null,markGroup:null,scene:null,camera:null,renderer:null,stats:null,controls:null,areaCount:0,_w:0,_h:0,__event:null};Fo(!0,n,t),Fo(!0,this,n),this.geoData?(this._w=this.el.offsetWidth,this._h=this.el.offsetHeight,this.init(),this.initEvent()):console.warn("Map3D no geoData.")}else console.warn("不支持webgl,停止渲染.")}return X(e,[{key:"init",value:function(){this.el.innerHTML="",this.scene=new T({antialias:!0}),this.camera=new $(70,this._w/this._h,.1,1e3),this.renderer=new R({alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.position.set(this.cameraPosition.x,this.cameraPosition.y,this.cameraPosition.z),this.camera.lookAt(this.scene.position),this.renderer.setSize(this._w,this._h),this.scene.fog=new L(16777215,.15,1e3),this.scene.add(new I(zo(this.ambientColor))),this.dirLight=new z(zo(this.directionalColor)),this.dirLight.position.set(0,50,50),this.scene.add(this.dirLight),this.dirLightDown=new z(zo(this.directionalColor)),this.dirLightDown.position.set(0,-50,0),this.scene.add(this.dirLightDown),this.spotLight=new H(zo(this.color)),this.spotLight.position.set(0,150,150),this.spotLight.intensity=.7,this.spotLight.target=this.scene,this.scene.add(this.spotLight),this.mapObject=new y,this.initControls(),this.initDebug(),this.initArea(),this.initMark(),this.initLine(),this.inintDataRange(),this.geoData.cp&&this.mapObject.position.set(-this.geoData.cp[0],-this.geoData.cp[1],0),this.scene.add(this.mapObject),this.scene.add(this.camera),this.el.appendChild(this.renderer.domElement),this.renderScene()}},{key:"initArea",value:function(e){var t,n=this;(Object.assign(this.area,e),Wo.count=0,this.areaGroup)&&(t=this.areaGroup).remove.apply(t,re(this.areaGroup.children));this.areaGroup=new y,this.geoData.features.forEach(function(e){var t=n.area.data.find(function(t){return t.name===e.properties.name});Object.assign(e.properties,t),n.createArea(e)}),this.mapObject.add(this.areaGroup)}},{key:"inintDataRange",value:function(e){var t=this;Object.assign(this.dataRange,e);var n,r=Object.assign({extrudeHeight:this.extrude.amount/2},this.dataRange);(delete r.data,this.dataRangeGroup)&&(n=this.dataRangeGroup).remove.apply(n,re(this.dataRangeGroup.children));if(Go.count=0,this.dataRangeGroup=new y,this.dataRange.data.forEach(function(e){var n=Object.assign({},r,e),o=new Go(n);o.rangeAreas=[],t.dataRangeGroup.add(o);var i=void 0===e.min?-999999999999:e.min,a=void 0===e.max?999999999999:e.max,s=null;t.area.data.forEach(function(n){void 0!==n.value&&i<n.value&&n.value<a&&(s=t.getArea(n.name))&&(o.rangeAreas.push(s),s.setColor(e.color))})}),this.dataRange.data.length>0){if(this.dataRange.text[0]){var o=No.create(this.dataRange.text[0],{color:this.dataRange.textColor});o.position.add({x:0,y:1,z:0}),this.dataRangeGroup.add(o)}if(this.dataRange.text[1]){var i=No.create(this.dataRange.text[1],{color:this.dataRange.textColor});i.position.add({x:0,y:-(this.dataRange.height+Go.count*(this.dataRange.height+this.dataRange.spacing)),z:0}),this.dataRangeGroup.add(i)}}this.dataRangeGroup.position.add(this.dataRange.position),this.scene.add(this.dataRangeGroup)}},{key:"initMark",value:function(e){var t=this;Object.assign(this.mark,e);var n,r=Object.assign({extrudeHeight:this.extrude.amount},this.mark);(delete r.data,Uo.count=0,this.markGroup)&&(n=this.markGroup).remove.apply(n,re(this.markGroup.children));this.markGroup=new y,this.mark.data.forEach(function(e){var n=Object.assign({},r,e),o=new Uo(n);t.markGroup.add(o)}),this.mapObject.add(this.markGroup)}},{key:"initLine",value:function(e){var t=this;Object.assign(this.line,e);var n,r=Object.assign({extrudeHeight:this.extrude.amount},this.line);(delete r.data,Yo.count=0,this.lineGroup)&&(n=this.lineGroup).remove.apply(n,re(this.lineGroup.children));this.lineGroup=new y,this.line.data.forEach(function(e){var n=Object.assign({},r,e),o=new Yo(n);t.lineGroup.add(o)}),this.mapObject.add(this.lineGroup)}},{key:"addCameraPosition",value:function(e,n,r,o){var i=new t(e.x,e.y,e.z);if("number"==typeof n){var a=this.camera.position.clone().add(i);o||(o=function(){}),new Io.Tween(this.camera.position).to(a,n).delay(r||0).start().onComplete(o)}else this.camera.position.add(e.x,e.y,e.z)}},{key:"setCameraPosition",value:function(e,t,n,r,o){t&&"number"==typeof t?Ho(this.camera.position,e,t,n,r,o):this.camera.position.set(e.x,e.y,e.z)}},{key:"dispose",value:function(){this.el.innerHTML="",this.__event.dispose()}},{key:"disable",value:function(e){(e=void 0===e||e)?(this.el.style.pointerEvents="none",this.__event.enable=!e):(this.el.style.pointerEvents="",this.__event.enable=!e)}},{key:"initEvent",value:function(){this.__event=new Lo(this)}},{key:"initControls",value:function(){if(this.hasControls)return this.controls=new Ro(this.camera,this.renderer.domElement),this.controls.userPan=!1,this.controls.autoRotate=this.autoRotate,this.controls.userPanSpeed=1,this.controls}},{key:"initStats",value:function(){return this.stats=new Bo,this.stats.setMode(0),this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="70px",this.stats.domElement.style.right="0px",this.el.appendChild(this.stats.domElement),this.stats}},{key:"initDebug",value:function(){if(this.debugger){this.name&&(window[this.name]=this),this.initStats();var e=new F(this.dirLight,5);this.scene.add(e);var t=new N(this.spotLight);this.scene.add(t);var n=new B(300,40);this.scene.add(n);var r=new W(50);this.scene.add(r),this.infoPlane=document.createElement("div"),this.infoPlane.contentEditable=!0,this.infoPlane.style.position="absolute",this.infoPlane.style.bottom="70px",this.infoPlane.style.right="10px",this.infoPlane.style.padding="5px 10px",this.infoPlane.style.background="rbga(0,0,0,.5)",this.infoPlane.style.border="1px solid #aaa",this.infoPlane.style.borderRadius="5px",this.infoPlane.style.color="#eee",this.el.appendChild(this.infoPlane)}}},{key:"printCameraPosition",value:function(){var e=this.camera.position;this.infoPlane.textContent="相机位置 {x:"+e.x.toFixed(4)+",y:"+e.y.toFixed(4)+",z:"+e.z.toFixed(4)+"}"}},{key:"reomveArea",value:function(e){"string"==typeof e&&(e=this.getArea(e)),this.areaGroup.remove(e)}},{key:"removeMark",value:function(e){"string"==typeof e&&(e=this.getMark(e)),this.markGroup.remove(e)}},{key:"getArea",value:function(e){return this.areaGroup.getObjectByName(e)}},{key:"getMark",value:function(e){return this.markGroup.getObjectByName(areaName)}},{key:"getObjectsByName",value:function(e){var t=[];return this.scene.traverse(function(n){n.name===e&&t.push(n)}),t}},{key:"renderScene",value:function(){this.renderer.clear(),requestAnimationFrame(this.renderScene.bind(this)),this.areaGroup.children.map(function(e){e&&e.update()}),this.lineGroup.children.map(function(e){e.halo&&e.halo.update()}),this.markGroup.children.map(function(e){e.update()}),Io.update(),this.hasControls&&this.controls.update(),this.debugger&&(this.stats.update(),this.printCameraPosition()),this.renderer.render(this.scene,this.camera)}},{key:"_onResize",value:function(){this.dispatchEvent({type:"resize",el:null})}},{key:"_onMouseMove",value:function(e,t){if(t.length>0){var n=this.selectedObj?this.selectedObj.id:"";this.selectedObj=null;for(var r=0;r<t.length;r++){if(t[r].object&&"Mesh"===t[r].object.type&&t[r].object.parent.type&&"Area"===t[r].object.parent.type){this.selectedObj=t[r].object.parent;break}if(t[r].object&&"Mark"===t[r].object.type){this.selectedObj=t[r].object;break}if(t[r].object&&t[r].object.parent==this.lineGroup&&"Line"===t[r].object.type){this.selectedObj=t[r].object;break}if(t[r].object&&t[r].object.parent&&"DataRange"===t[r].object.parent.type){this.selectedObj=t[r].object.parent;break}}if(this.selectedObj){if(n!=this.selectedObj.id){if(n){var o=this.scene.getObjectById(n);o&&o.onmouseout(this,e)}this.selectedObj.onmouseover(this,e)}}else if(n){var i=this.scene.getObjectById(n);i&&i.onmouseout(this,e)}}else this.selectedObj&&this.selectedObj.onmouseout(this,e),this.selectedObj=null}},{key:"_onMouseDown",value:function(e,t){if(t.length>0){for(var n=null,r=0;r<t.length;r++){if(t[r].object&&"Mesh"==t[r].object.type&&t[r].object.parent.type&&"Area"==t[r].object.parent.type){n=t[r].object.parent;break}if(t[r].object&&"Mark"===t[r].object.type){n=t[r].object;break}if(t[r].object&&t[r].object.parent&&"DataRange"===t[r].object.parent.type){n=t[r].object.parent;break}}n&&(this.debugger&&console.log(n),n.onmousedown(this,e))}}},{key:"createArea",value:function(e){var t=Object.assign({color:this.area.color,hoverColor:this.area.hoverColor,lineColor:this.area.lineColor,opacity:this.area.opacity,hasPhong:this.area.hasPhong,shininess:this.area.shininess,hoverAnimaTime:this.area.hoverAnimaTime,extrude:this.extrude,loadEffect:this.area.loadEffect,hasHoverHeight:this.area.hasHoverHeight},e.properties),n=[];if(e.geometry){if("Polygon"==e.geometry.type)n.push(e.geometry.coordinates[0]);else if("MultiPolygon"==e.geometry.type)for(var r=0;r<e.geometry.coordinates.length;r++)n.push(e.geometry.coordinates[r][0]);t.coords=n;var o=new Wo(t);this.areaGroup.add(o)}}}]),e}();function Xo(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}}Object.assign(e.prototype,{dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){var n=e.target;for(var r in e.orgEvent)e[r]=e.orgEvent[r];e.target=n||this;for(var o=t.slice(0),i=0,a=o.length;i<a;i++)o[i].call(this,e)}}}}),Object.assign(Zo.prototype,e.prototype);var qo=Xo(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)});function Ko(e,t,n){var r,o,i=function(t,n){r=null,n&&(o=e.apply(t,n))},a=Xo(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(i,t),s&&(o=e.apply(this,a))}else r=qo(i,t,this,a);return o});return a.cancel=function(){clearTimeout(r),r=null},a}var Jo={Map3D:Zo,BackToTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,o=l(),i=document.body.offsetWidth;t?r=t instanceof HTMLElement?t:document.querySelector(t):(r=function(){var e=document.createElement("div");e.style.cssText="width: 40px;height: 40px;border-radius: 20px;background-color: #3eaf7c;display: flex;";var t=document.createElement("span");return t.style.cssText="margin: auto;width: 16px;height: 16px;border-top: 4px solid #fff;border-left: 4px solid #fff;transform: translateY(3px) rotate(45deg);",e.appendChild(t),e.addEventListener("mouseover",function(e){this.style.backgroundColor="#3eaf7c54"}),e.addEventListener("mouseout",function(){this.style.backgroundColor="#3eaf7c"}),e}(),document.querySelector("body").appendChild(r));var a={position:"fixed",right:"1em",bottom:"1em",cursor:"pointer",visibility:"visible",opacity:"0",transition:"all 0.3s ease"};if(r){for(var s in Object.assign(a,n),a)r.style.setProperty(s,a[s]);r.addEventListener("click",function(e){e.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"}),o=0,f()}),window.addEventListener("scroll",c),window.addEventListener("resize",u),this.getDom=function(){return r},this.dispose=function(){window.removeEventListener("scroll",c),window.removeEventListener("resize",u),r.remove()}}function c(){Ko(function(){o=l(),h()},100)()}function u(){Ko(function(){i=document.body.offsetWidth,h()},100)()}function l(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function h(){return i>960&&o>e?(r.style.setProperty("visibility","visible"),r.style.setProperty("opacity","1")):f(),o>e}function f(){r.style.setProperty("visibility","hidden"),r.style.setProperty("opacity","0")}},CameraPathFollow:function(){function e(t){if(V(this,e),!t.camera instanceof Q)return console.warn('new CameraPathFollow "THREE.Camera" initialization required.'),!1;this._opt={camera:null,scene:null,speed:5e-4,points:null,lookAt:null,_pct:0,debug:!1,isStart:!0,controls:null,repeat:!1,_isReady:!1},Object.assign(this,this._opt,t)}return X(e,[{key:"start",value:function(e){e.points?(this._pct=0,Object.assign(this,e),this.setPath(this.points),this.isStart=!0):console.warn('CameraPathFollow.start(opt.points) "points" is not Array.')}},{key:"stop",value:function(){this.isStart=!1}},{key:"setPath",value:function(e){if(Array.isArray(e)){if(!(e[0]instanceof t))for(var n=0;n<e.length;n++){var r=e[n][0],o=e[n][1],i=e[n][2];e[n]=new t(r,o,i)}if(this.path=new G(e),this.scene&&this.debug){this.debugeTube&&scene.remove(this.debugeTube);var a=new h({color:16777215,wireframe:!0}),s=new U(this.path,3*this.path.length,2,3,!0);this.debugeTube=new p(s,a),scene.add(this.debugeTube)}this._isReady=!0}else console.warn('CameraPathFollow.setPath(points) "points" is not Array.')}},{key:"update",value:function(){if(this.isStart&&this._isReady){if(this._pct+=this.speed,!this.repeat&&this._pct>1)return this.isStart=!1,void(this.onCompleted&&this.onCompleted());var e=this.path.getPointAt(this._pct%1),t=this.path.getPointAt((this._pct+.01)%1);this.camera.position.set(e.x,e.y,e.z),this.lookAt?this.camera.lookAt(this.lookAt[0],this.lookAt[1],this.lookAt[2]):this.camera.lookAt(t.x,t.y,t.z),this.onUpdate&&this.onUpdate()}}}]),e}()},ei=function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dragable:!1,x:0,y:0,container:null},r=0,o=!1,i=document.createElement("div");function a(e){return i.appendChild(e.dom),e}function s(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}i.style.cssText="position:fixed;top:".concat(n.y||0,"px;left:").concat(n.x||0,"px;cursor:pointer;opacity:0.9;z-index:10000"),i.addEventListener("click",function(e){e.preventDefault(),o||s(++r%i.children.length)},!1),n.dragable&&(i.addEventListener("mousedown",function(e){e.preventDefault(),o&&(o=!1),this.style.cursor="move",t=(new Date).getTime(),function(e){var t=parseInt(i.getBoundingClientRect().left),r=parseInt(i.getBoundingClientRect().top),o=e.clientX-t,a=e.clientY-r;document.onmousemove=function(e){var t=e.clientX-o-(n.x||0),r=e.clientY-a-(n.y||0);parseInt(t+(n.x||0))<=0&&(t=-(n.x||0)),parseInt(r+(n.y||0))<=0&&(r=-(n.y||0)),parseInt(t+(n.x||0))>=window.innerWidth-parseInt(getComputedStyle(i).width)&&(t=window.innerWidth-parseInt(getComputedStyle(i).width)-(n.x||0)),parseInt(r+(n.y||0))>=window.innerHeight-parseInt(getComputedStyle(i).height)&&(r=window.innerHeight-parseInt(getComputedStyle(i).height)-(n.y||0)),i.style.transform="translate(".concat(t,"px,").concat(r,"px)")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,document.onmouseout=null}}(e)},!1),i.addEventListener("mouseup",function(e){e.preventDefault(),(new Date).getTime()-t>200&&(o=!0),this.style.cursor="pointer"},!1),i.addEventListener("mouseout",function(){event.preventDefault(),this.style.cursor="pointer"},!1));var c=(performance||Date).now(),u=c,l=0,h=a(new e.Panel("FPS","#0ff","#002")),f=a(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=a(new e.Panel("MB","#f08","#201"));return s(0),n.container&&"object"===Y(n.container)?n.container.appendChild(i):n.container&&"string"==typeof n.container?(n.container=document.querySelector(n.container),n.container.appendChild(i)):document.body.appendChild(i),{REVISION:16,dom:i,addPanel:a,showPanel:s,begin:function(){c=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(f.update(e-c,200),e>=u+1e3&&(h.update(1e3*l/(e-u),100),u=e,l=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){c=this.end()},domElement:i,setMode:s}};ei.Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,c=48*a,u=3*a,l=2*a,h=3*a,f=15*a,d=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=c,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,c),v.fillStyle=t,v.fillText(e,u,l),v.fillRect(h,f,d,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(h,f,d,p),{dom:m,update:function(c,y){r=Math.min(r,c),o=Math.max(o,c),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,f),v.fillStyle=t,v.fillText(i(c)+" "+e+" ("+i(r)+"-"+i(o)+")",u,l),v.drawImage(m,h+a,f,d-a,p,h,f,d-a,p),v.fillRect(h+d-a,f,a,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(h+d-a,f,a,i((1-c/y)*p))}}};var ti={Stats:ei};var ni={Synthesis:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.single_instance||(e.single_instance=this),t=Object.assign({lang:"zh-CN",volume:1,rate:.8,pitch:1},t),!function(){try{return new window.SpeechSynthesisUtterance,!0}catch(e){return!1}}())return console.log("your browser do net support the API, visit https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance get more infomation"),null;var n=window.speechSynthesis,r=new SpeechSynthesisUtterance;return Object.keys(t).forEach(function(e){r[e]=t[e]}),this.speak=function(e){e&&(r.text=e,n.speak(r))},this.cancel=function(){n.cancel()},this.setOption=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(t,e),Object.keys(t).forEach(function(e){r[e]=t[e]})},this.addEventListener=function(e,t){r.addEventListener(e,t)},this.getOption=function(){return{lang:r.lang,volume:r.volume,rate:r.rate,pitch:r.pitch}},this.getStatus=function(){return{paused:n.paused,pending:n.pending,speaking:n.speaking}},e.single_instance},annyang:ke(function(e){var t,n,r="function"==typeof Symbol&&"symbol"==Y(Symbol.iterator)?function(e){return Y(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Y(e)};t="undefined"!=typeof window?window:void 0,n=function(e,t){var n,o=e.SpeechRecognition||e.webkitSpeechRecognition||e.mozSpeechRecognition||e.msSpeechRecognition||e.oSpeechRecognition;if(!o)return null;var i,a,s=[],c={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},u=0,l=0,h=!1,f="font-weight: bold; color: #00f;",d=!1,p=!1,m=/\s*\((.*?)\)\s*/g,v=/(\(\?:[^)]+\))\?/g,y=/(\(\?)?:\w+/g,g=/\*\w+/g,b=/[\-{}\[\]+?.,\\\^$|#]/g,w=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.forEach(function(e){e.callback.apply(e.context,n)})},_=function(){return i!==t},x=function(e,t){-1!==e.indexOf("%c")||t?console.log(e,t||f):console.log(e)},O=function(){_()||n.init({},!1)},j=function(e,t,n){s.push({command:e,callback:t,originalPhrase:n}),h&&x("Command successfully loaded: %c"+n,f)},E=function(e){var t;w(c.result,e);for(var n=0;n<e.length;n++){t=e[n].trim(),h&&x("Speech recognized: %c"+t,f);for(var r=0,o=s.length;r<o;r++){var i=s[r],a=i.command.exec(t);if(a){var u=a.slice(1);return h&&(x("command matched: %c"+i.originalPhrase,f),u.length&&x("with parameters",u)),i.callback.apply(this,u),void w(c.resultMatch,t,i.originalPhrase,e)}}}w(c.resultNoMatch,e)};return n={init:function(r){var f=!(1<arguments.length&&arguments[1]!==t)||arguments[1];i&&i.abort&&i.abort(),(i=new o).maxAlternatives=5,i.continuous="http:"===e.location.protocol,i.lang="en-US",i.onstart=function(){p=!0,w(c.start)},i.onsoundstart=function(){w(c.soundstart)},i.onerror=function(e){switch(w(c.error,e),e.error){case"network":w(c.errorNetwork,e);break;case"not-allowed":case"service-not-allowed":a=!1,(new Date).getTime()-u<200?w(c.errorPermissionBlocked,e):w(c.errorPermissionDenied,e)}},i.onend=function(){if(p=!1,w(c.end),a){var e=(new Date).getTime()-u;(l+=1)%10==0&&h&&x("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),e<1e3?setTimeout(function(){n.start({paused:d})},1e3-e):n.start({paused:d})}},i.onresult=function(e){if(d)return h&&x("Speech heard, but annyang is paused"),!1;for(var t=e.results[e.resultIndex],n=[],r=0;r<t.length;r++)n[r]=t[r].transcript;E(n)},f&&(s=[]),r.length&&this.addCommands(r)},start:function(e){O(),d=(e=e||{}).paused!==t&&!!e.paused,a=e.autoRestart===t||!!e.autoRestart,e.continuous!==t&&(i.continuous=!!e.continuous),u=(new Date).getTime();try{i.start()}catch(e){h&&x(e.message)}},abort:function(){a=!1,l=0,_()&&i.abort()},pause:function(){d=!0},resume:function(){n.start()},debug:function(){var e=!(0<arguments.length&&arguments[0]!==t)||arguments[0];h=!!e},setLanguage:function(e){O(),i.lang=e},addCommands:function(t){var n,o;for(var i in O(),t)if(t.hasOwnProperty(i))if("function"==typeof(n=e[t[i]]||t[i]))j((o=(o=i).replace(b,"\\$&").replace(m,"(?:$1)?").replace(y,function(e,t){return t?e:"([^\\s]+)"}).replace(g,"(.*?)").replace(v,"\\s*$1?\\s*"),new RegExp("^"+o+"$","i")),n,i);else{if(!("object"===(void 0===n?"undefined":r(n))&&n.regexp instanceof RegExp)){h&&x("Can not register command: %c"+i,f);continue}j(new RegExp(n.regexp.source,"i"),n.callback,i)}},removeCommands:function(e){e===t?s=[]:(e=Array.isArray(e)?e:[e],s=s.filter(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.originalPhrase)return!1;return!0}))},addCallback:function(n,r,o){var i=e[r]||r;"function"==typeof i&&c[n]!==t&&c[n].push({callback:i,context:o||this})},removeCallback:function(e,n){var r=function(e){return e.callback!==n};for(var o in c)c.hasOwnProperty(o)&&(e!==t&&e!==o||(c[o]=n===t?[]:c[o].filter(r)))},isListening:function(){return p&&!d},getSpeechRecognizer:function(){return i},trigger:function(e){n.isListening()?(Array.isArray(e)||(e=[e]),E(e)):h&&x(p?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted")}}},"object"===r(e)&&e.exports?e.exports=n(t):t.annyang=n(t)})};export default{util:To,vis:Jo,dev:ti,voice:ni};export{To as util,Jo as vis,ti as dev,ni as voice};
